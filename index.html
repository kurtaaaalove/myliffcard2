
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>越境 Flex 名片</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 20px; }
    .btn { background: #06c755; color: white; padding: 10px 20px; font-size: 16px;
           border: none; border-radius: 4px; margin-top: 20px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>越境項目分享</h1>
  <button class="btn" id="shareBtn">分享 Flex 名片</button>

  <script>
    async function initializeLiff() {
      try {
        await liff.init({ liffId: "2007344981-yXozKWX0" });

        if (!liff.isLoggedIn()) {
          alert('請先登入 LINE');
          liff.login({ redirectUri: window.location.href });
          return;
        }

        document.getElementById('shareBtn').addEventListener('click', () => {
          liff.shareTargetPicker([
            {
              type: "flex",
              altText: "越境項目",
              contents: {
                type: "carousel",
                contents: [
                  {
                    type: "bubble",
                    hero: {
                      type: "image",
                      url: "https://i.imgur.com/f9emLS9.jpg",
                      size: "full",
                      aspectRatio: "20:13",
                      aspectMode: "cover"
                    },
                    body: {
                      type: "box",
                      layout: "vertical",
                      spacing: "sm",
                      contents: [
                        {
                          type: "text",
                          text: "越境食旅",
                          size: "xl",
                          weight: "bold",
                          color: "#000000",
                          wrap: true
                        },
                        {
                          type: "text",
                          text: "越境食旅",
                          size: "xs",
                          color: "#000000",
                          wrap: true
                        }
                      ]
                    },
                    footer: {
                      type: "box",
                      layout: "vertical",
                      spacing: "sm",
                      contents: [
                        {
                          type: "button",
                          style: "primary",
                          color: "#17c950",
                          action: {
                            type: "uri",
                            label: "官網連結",
                            uri: "https://kktl.com.tw"
                          }
                        },
                        {
                          type: "button",
                          style: "link",
                          color: "#42659a",
                          action: {
                            type: "uri",
                            label: "Line連結",
                            uri: "https://lin.ee/UkmS9s4"
                          }
                        }
                      ]
                    }
                  },
                  {
                    type: "bubble",
                    hero: {
                      type: "image",
                      url: "https://i.imgur.com/aUymksP.jpg",
                      size: "full",
                      aspectRatio: "20:13",
                      aspectMode: "cover"
                    },
                    body: {
                      type: "box",
                      layout: "vertical",
                      spacing: "sm",
                      contents: [
                        {
                          type: "text",
                          text: "DAKA",
                          size: "xl",
                          weight: "bold",
                          color: "#000000",
                          wrap: true
                        },
                        {
                          type: "text",
                          text: "DAKA",
                          size: "xs",
                          color: "#000000",
                          wrap: true
                        }
                      ]
                    },
                    footer: {
                      type: "box",
                      layout: "vertical",
                      spacing: "sm",
                      contents: [
                        {
                          type: "button",
                          style: "primary",
                          color: "#aaaaaa",
                          action: {
                            type: "uri",
                            label: "官網",
                            uri: "https://dakaclock.com/"
                          }
                        },
                        {
                          type: "button",
                          style: "link",
                          color: "#42659a",
                          action: {
                            type: "uri",
                            label: "Line",
                            uri: "https://lin.ee/N4hEWyH"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]).catch(err => alert("分享失敗：" + err.toString()));
        });
      } catch (err) {
        alert("LIFF 初始化失敗：" + err.toString());
      }
    }
    initializeLiff();
  </script>
</body>
</html>
